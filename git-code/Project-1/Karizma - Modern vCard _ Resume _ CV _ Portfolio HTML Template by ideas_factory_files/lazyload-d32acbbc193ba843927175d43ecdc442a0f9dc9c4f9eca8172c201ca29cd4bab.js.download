document.addEventListener("DOMContentLoaded",function(){var e="span.lazy-load-img",t=[].slice.call(document.querySelectorAll(e)),n=/^data-(.+)/,o=function(e){if("SPAN"===e.tagName&&(e.dataset.src||e.dataset.srcset)){for(var t=document.createElement("img"),o=e.attributes,r=0;r<o.length;r++){var i=o[r],a=i.name.match(n);if(a&&2===a.length){var c=a[1];t.setAttribute(c,i.value)}}e.parentElement.replaceChild(t,e)}},r=function(){var e=!1,n=function(){!1===e&&(e=!0,setTimeout(function(){t.forEach(function(e){var r=e.getBoundingClientRect().top<=window.innerHeight&&e.getBoundingClientRect().bottom>=0,i="none"!==getComputedStyle(e).display;r&&i&&(o(e),0===(t=t.filter(function(t){return t!==e})).length&&(document.removeEventListener("scroll",n),window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)))}),e=!1},200))};[].slice.call(document.querySelectorAll("*[data-lazy-load-trigger]")).forEach(function(e){e.addEventListener(e.dataset.lazyLoadTrigger,function t(){n(),e.removeEventListener(e.dataset.lazyLoadTrigger,t)})}),n(),document.addEventListener("scroll",n),window.addEventListener("resize",n),window.addEventListener("orientationchange",n)};("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?function(){var e=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var n=t.target;o(n),e.unobserve(n)}})},{rootMargin:"50px"});t.forEach(function(t){e.observe(t)})}():r(),window.MutationObserver)&&new MutationObserver(function(t){t.forEach(function(t){t.addedNodes.length&&t.addedNodes.forEach(function(t){t.childNodes.length&&t.querySelectorAll(e).forEach(function(e){o(e)})})})}).observe(document.body,{childList:!0,subtree:!0})});